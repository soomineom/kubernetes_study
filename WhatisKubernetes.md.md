# 쿠버네티스란?

쿠버네티스는 컨테이너화된 워크로드와 서비스를 관리하기 위한 이식성이 있고, 확장가능한 오픈소스 플랫폼. 쿠버네티스는 선언적 구성과 자동화를 모두 용이하게 해주며 쿠버네티스의 서비스, 기술지원 및 도구는 어디서나 쉽게 이용이 가능함

쿠버네티스라는 명칭은 키잡이(helmsman)나 파일럿을 뜻하는 그리스어에서 유래했으며 2014년 구글이 오픈소스화함

### 왜 쿠버네티스가 유용하게 되었는가? - 시대별로 알아보기

![%E1%84%8F%E1%85%AE%E1%84%87%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B5%E1%84%89%E1%85%B3%E1%84%85%E1%85%A1%E1%86%AB%208ee2d35b82ea4a79865ecb0dd466e8c8/Untitled.png](%E1%84%8F%E1%85%AE%E1%84%87%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B5%E1%84%89%E1%85%B3%E1%84%85%E1%85%A1%E1%86%AB%208ee2d35b82ea4a79865ecb0dd466e8c8/Untitled.png)

1. 전통적 배포 시대

    초기에는 애플리케이션을 물리 서버에서 실행해 리소스 할당의 문제가 발생했고 물리 서버를 많이 유지하기 위해 조직에서 많은 비용이 소모됨.

2. 가상화된 배포 시대

    위에 대한 해결책으로 가상화가 도입됨. 단일 물리 서버 CPU에서 여러 VM을 실행할 수 있게 되었으며 가상화를 사용함으로써 VM간 애플리케이션을 격리하고 일정 수준의 보안성을 제공할 수 있게 되었음. 

    가상화를 사용하여 물리 서버에서 리소스를 보다 효율적으로 활용할 수 있게 되었고 일련의 물리 리소스를 폐기 가능한 가상 머신으로 구성된 클러스터로 만들 수 있음. 각 VM은 가상화된 HW상에서 자체 OS를 포함한 모든 구성 요소를 실행하는 하나의 완전한 머신임

3. 컨테이너 개발 시대

    컨테이너는 VM과 유사하지만 격리 속성을 완화해 애플리케이션 간 OS를 공유함. 쿠버네티스는 다음과 같은 추가적 혜택을 제공해 인기 있음

    - 기민한 애플리케이션 생성&배포: VM 이미지 사용에 비해 컨테이너 이미지 생성이 보다 쉽고 효율적
    - 지속적인 개발&통합&배포
    - 개발 - 운영 관심사 분리: 배포 시점이 아닌 빌드/릴리스 시점에 애플리케이션 컨테이너 이미지를 만들기 때문에 애플리케이션이 infrastructure에서 분리됨
    - 가시성은 OS 수준에서 머무르지 않고 그 밖 시그널도 가능
    - 개발, 테스팅, 운영 환경에 걸친 일관성
    - 클라우드 및 OS 배포판 간 이식성
    - 애플리케이션 중심 관리: 논리적 리소스를 사용하는 OS 상에서 애플리케이션을 실행하는 수준
    - 유연하며 자유로운 마이크로서비스

        ![%E1%84%8F%E1%85%AE%E1%84%87%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B5%E1%84%89%E1%85%B3%E1%84%85%E1%85%A1%E1%86%AB%208ee2d35b82ea4a79865ecb0dd466e8c8/Untitled%201.png](%E1%84%8F%E1%85%AE%E1%84%87%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B5%E1%84%89%E1%85%B3%E1%84%85%E1%85%A1%E1%86%AB%208ee2d35b82ea4a79865ecb0dd466e8c8/Untitled%201.png)

    - 리소스 격리: 애플리케이션 성능 예측 가능
    - 자원 사용량, 리소스 사용량: 고효율 고집적

### **왜 쿠버네티스가 필요할까? 무엇을 할 수 있나?**

컨테이너는 애플리케이션을 포장하고 실행하는 좋은 방법이지만 프로덕션 환경에서는 컨테이너를 관리하고 가동 중지 시간이 없는지 확인해야함. 예시로 *컨테이너가 다운되면 다른 컨테이너를 다시 시작해야하는데 이러한 문제를 시스템으로 처리할 수 없을까?* —> 쿠버네티스가 필요한 이유!

쿠버네티스가 제공하는 것들

- 서비스 디스커버리, 로드 밸런싱: 쿠버네티스는 DNS 이름을 사용하거나 자체 IP 주소를 사용해 컨테이너를 노출할 수 있고 컨테이너 트래픽이 많으면 쿠버네티스는 네트워크 트래픽을 로드밸런싱하고 배포하여 배포가 안정적으로 이뤄질 수 있음
- 스토리지 오케스트레이션: 로컬 저장소, 공용 클라우드 공급자 등과 같이 원하는 저장소 시스템 자동으로 탑재 가능
- 자동화 된 빈(bin) 패킹
- 자동화된 복구
- 시크릿과 구성 관리: 쿠버네티스 사용시 암호, OAuth 토큰 및 SSH 키와 같은 중요한 정보를 저장하고 관리할 수 있음

### 쿠버네티스가 아닌 것

쿠버네티스는 전통적이고 모든 것이 포함된 Paas(Platform as a Service)가 아님. 쿠버네티스는 HW 수준보다는 컨테이너 수준에서 운영되기 때문에 Paas가 일반적으로 제공하는 것과 같은 기능(배포, 스케일링, 로드 밸런싱)을 제공하고 사용자가 로깅, 모니터링, 알림 솔루션을 통합할 수 있음

쿠버네티스는 개발자 플랫폼을 만드는 구성 요소를 제공하지만, 필요한 경우 사용자의 선택권과 유연성을 지켜줌

- 지원하는 애플리케이션의 유형 제약 X
- 소스 코드 배포 X, 애플리케이션 빌드 X
- 애플리케이션 레벨의 서비스 제공 X
- 로깅, 모니터링, 경보 솔루션 포함 X(개념 증명 위한 일부 통합이나 메트릭 수집하고 노출하는 메커니즘 제공)
- 기본 설정 언어/시스템을 제공, 요구 X. 선언적 API 제공
- 포괄적인 머신 설정, 유지보수, 관리, 자동 복구 시스템 제공하거나 채택 X
- 독립적이고 조합 가능한 제어 프로세스들로 구성되어 있음

*****참고**

![%E1%84%8F%E1%85%AE%E1%84%87%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B5%E1%84%89%E1%85%B3%E1%84%85%E1%85%A1%E1%86%AB%208ee2d35b82ea4a79865ecb0dd466e8c8/Untitled%202.png](%E1%84%8F%E1%85%AE%E1%84%87%E1%85%A5%E1%84%82%E1%85%A6%E1%84%90%E1%85%B5%E1%84%89%E1%85%B3%E1%84%85%E1%85%A1%E1%86%AB%208ee2d35b82ea4a79865ecb0dd466e8c8/Untitled%202.png)

1. 서버 - Hypervisor위 VM 올리기
2. 서버 - Host OS - Docker Engine - Container

    자원을 필요한 만큼 격리해 컨테이너에 할당(= OS와 자원 공유) → 효율적, 배포 빠름

쿠버네티스는 여러 컨테이너를 관리, 예약하는 도구이고 도커는 여러 컨테이너를 관리, 예약하는 플랫폼! 

→ 둘의 차이는?

*도커란 기술적인 개념이자 도구, 쿠버네티스는 도커를 관리하는 툴*이라고 생각하기

(이미지를 컨테이너에 띄우고 실행하는 기술이 도커, 이런 도커를 기반으로 컨테이너를 관리하는 서비스가 쿠버네티스라고 생각하면 됨. 도커는 '한 개의 컨테이너'를 관리하는 데 최적, 쿠버네티스는 '여러 개의 컨테이너'를 서비스 단위로 관리하는데 최적화!)